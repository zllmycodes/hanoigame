function Disc(t,i){this.fig=+t,this.width=0,this.height=0,this.x=0,this.y=0,this.color=discColor[t-1],this.init(i)}function animateUp(t,i,e){t.y>.3*i.height?(t.y-=15,drawDiscs(i),timeUp=setTimeout(function(){animateUp(t,i,e)},20)):"ltm"===e||"mtr"===e?(clearTimeout(timeUp),timeUp=void 0,animateRight(t,i,e)):(clearTimeout(timeUp),timeUp=void 0,animateLeft(t,i,e))}function animateLeft(t,i,e){var h=t.x;timeLeft||(startX=t.x),h>startX-.28*i.width?(t.x-=12,drawDiscs(i),timeLeft=setTimeout(function(){animateLeft(t,i,e)},20)):(clearTimeout(timeLeft),timeLeft=void 0,animateDown(t,i,e))}function animateRight(t,i,e){var h=t.x;timeRight||(startX=t.x),h<startX+.28*i.width?(t.x+=12,drawDiscs(i),timeRight=setTimeout(function(){animateRight(t,i,e)},20)):(clearTimeout(timeRight),timeRight=void 0,animateDown(t,i,e))}function animateDown(t,i,e){if(!timeDown){var h=e.slice(e.indexOf("t")+1);discsnum=discs[h+"Column"].length-2}t.y<.93*i.height-i.height*discsnum*.04?(t.y+=5,drawDiscs(i),timeDown=setTimeout(function(){animateDown(t,i,e)},8)):(clearTimeout(timeDown),timeDown=void 0)}function drawDiscs(t){var i=t.getContext("2d");i.clearRect(0,0,t.width,t.height),drawColumn(i,t.width,t.height),discs.lColumn.forEach(function(t,e,h){if(h[e].x){var s=h[e];i.fillStyle=s.color,i.fillRect(s.x,s.y,s.width,s.height)}}),discs.mColumn.forEach(function(t,e,h){if(h[e].x){var s=h[e];i.fillStyle=s.color,i.fillRect(s.x,s.y,s.width,s.height)}}),discs.rColumn.forEach(function(t,e,h){if(h[e].x){var s=h[e];i.fillStyle=s.color,i.fillRect(s.x,s.y,s.width,s.height)}})}var discColor=["#9a0098","#0300ff","#009800","#ffff01","#ff9500","#fe0000"];Disc.prototype.init=function(t){var i=t.width,e=t.height,h=t.getContext("2d");switch(h.fillStyle=this.color,this.fig){case 6:this.x=.19*i,this.y=.73*e,this.width=.08*i,this.height=.04*e,h.fillRect(.19*i,.73*e,.08*i,.04*e);break;case 5:this.x=.17*i,this.y=.77*e,this.width=.12*i,this.height=.04*e,h.fillRect(.17*i,.77*e,.12*i,.04*e);break;case 4:this.x=.15*i,this.y=.81*e,this.width=.16*i,this.height=.04*e,h.fillRect(.15*i,.81*e,.16*i,.04*e);break;case 3:this.x=.13*i,this.y=.85*e,this.width=.2*i,this.height=.04*e,h.fillRect(.13*i,.85*e,.2*i,.04*e);break;case 2:this.x=.11*i,this.y=.89*e,this.width=.24*i,this.height=.04*e,h.fillRect(.11*i,.89*e,.24*i,.04*e);break;case 1:this.x=.09*i,this.y=.93*e,this.width=.28*i,this.height=.04*e,h.fillRect(.09*i,.93*e,.28*i,.04*e)}},Disc.prototype.ltm=function(t){animateUp(this,t,"ltm")},Disc.prototype.mtl=function(){animateUp(this,canvas,"mtl")},Disc.prototype.mtr=function(){animateUp(this,canvas,"mtr")},Disc.prototype.rtm=function(){animateUp(this,canvas,"rtm")};var timeUp,timeLeft,startX,timeRight,timeDown,discsnum;